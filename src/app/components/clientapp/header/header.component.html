<nav class="navbar fixed-top navbar-expand-lg main-navbar">
  <a class="header-brand" [routerLink]="['/app/foodbank-dashboard']">
    <img src="assets/images/logo/ff-logo.jpeg" class="header-brand-img" alt="Farmfunds-Admin  logo"
      style="height: px;">
  </a>
  <form class="form-inline mr-auto">
    <ul class="navbar-nav mr-3">
      <li><a href="#" data-toggle="sidebar" class="nav-link nav-link-lg"><i class="fa fa-bars"
            ></i></a></li>
      <li class="dropdown-list-toggle"><a href="#" data-toggle="search" class="nav-link nav-link-lg d-md-none navsearch"><i
            class="ion ion-search"></i></a></li>
    </ul>
  </form>
  <ul class="navbar-nav navbar-right">

    <li class="dropdown">
    <a title="Basket" href="#" data-toggle="dropdown"
      class="nav-link  nav-link-lg"  *ngIf="!router.url.includes('shopping-cart')"
      (click)="viewCart()  ">
      <small class="add" *ngIf="basketTotal" style="margin-right: 5px">{{
        basketTotal | currency: "&#8358; "
      }}</small>
      <i class="fa fa-shopping-basket" style="margin-top: 10px; font-size: 18px;">
      </i><small class="nav-link  nav-link-lg" *ngIf="cart.purchaseDetails.length > 0"
        class="badge badge-danger">{{
            cart.purchaseDetails.length
          }}</small></a>
  </li>



    <li class="dropdown "><a title="Notifications" (click)="notLength.length > 0 ? updateNot() : ''" data-toggle="dropdown"
        class="nav-link  nav-link-lg"><i id="not-button"   style="font-size: 20px; margin-top: 8px;" class="fa fa-bell-o"></i>
        <small class="nav-link nav-link-lg" *ngIf="notLength.length > 0"
          class="badge badge-danger">{{
            notLength.length
            }}</small></a>
      <div class="dropdown-menu dropdown-list dropdown-menu-right" style="width: 270px;">
        <div class="dropdown-header">Notifications
          <small *ngIf="notifications.length > 1" class="float-right">
            <a [routerLink]="['/app/notifications']">View All</a>
          </small>
        </div>
        <div class="dropdown-list-content">
          <a title="{{item.message}}" *ngFor="let item of notifications" class="dropdown-item has-not">
            <span class="item-desc">
              <b (click)="viewNot(item)">{{item.message}}</b>
            </div>
            </span>
            <small> {{item.createdAt | timeago:live}} </small>
          </a>
        </div>
        <div style="margin-left: 15px;" *ngIf="notifications.length === 0" class="dropdown-list-content">
          <small>You have no notifications at this time. </small>
        </div>
      </div>
    </li>
    <li class="dropdown dropdown-list-toggle"><a title="Help" href="#" data-toggle="dropdown"
      class="nav-link  nav-link-lg"><i style="margin-top: 6px;" class="fa fa-question-circle-o"></i></a>
    <div class="dropdown-menu dropdown-list dropdown-menu-right">
      <div class="dropdown-header">Help

      </div>
      <div class="dropdown-list-content">
        <a class="dropdown-item has-icon" data-toggle="modal" data-target="#updateProfile1" style="cursor: pointer">
          Get support
        </a>
        <a class="dropdown-item has-icon" data-toggle="modal" data-target="#feedback" style="cursor: pointer">
          Send feedback
        </a>
      </div>
    </div>
  </li>

    <li class="dropdown dropdown-list-toggle">
      <a title="Full Screen" class="nav-link nav-link-lg full-screen-link">
        <i class="fa fa-arrows-alt" id="fullscreen-button" style="margin-top: 10px; font-size: 18px;"></i>
      </a>
    </li>
    <li class="dropdown"><a href="#" data-toggle="dropdown" class="nav-link dropdown-toggle nav-link-lg">
        <img src="{{photo ? photo : 'assets/images/avat.png'}}" style="height: 32px;" alt="profile-user"
          class="rounded-circle w-32">&nbsp;
        <small class="d-sm-none d-lg-inline-block user-name">{{ userData.firstName }} {{ userData.middleName }}
          {{ userData.lastName }}</small></a>
      <div class="dropdown-menu dropdown-menu-right">
        <a class="dropdown-item has-icon">
          <i class="fa fa-dashboard text-primary"></i> <strong class="ml-2">Dashboard</strong>
        </a>
<hr>
        <a class="dropdown-item has-icon" data-toggle="modal" data-target="#updateProfile" style="cursor: pointer">
          <i class="fa fa-edit text-primary"></i> <strong class="ml-2">Edit Profile</strong>
        </a>
<hr>
        <a (click)="changePassword()" class="dropdown-item has-icon">
          <i class="fa fa-lock text-primary"></i> <strong class="ml-2">Change Password</strong>
        </a>
<hr>
        <a (click)="logout()" class="dropdown-item has-icon">
          <i class="fa fa-sign-out text-primary"></i> <strong class="ml-2">Logout</strong>
        </a>
      </div>
    </li>
  </ul>
</nav>
<!-- Modal -->
<div class="modal fade" id="updateProfile" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title text-center" id="exampleModalLabel" style="color: green;">Edit Profile</h2>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #editForm="ngForm" id="editForm">
          <div class="form-row">
            <div class="col-md-6">

              <div class="form-group">
                <label for="firstName">First name</label>
                <input class="inputbox form-control" id="firstName" [(ngModel)]="userData.firstName" type="text"
                  name="firstName" />
              </div>

              <div class="form-group">
                <label for="lastName">Last name</label>
                <input class="inputbox form-control" id="lastName" [(ngModel)]="userData.lastName" type="text"
                  name="lastName" />
              </div>

              <div class="form-group">
                <label for="middleName">Middle name</label>
                <input class="inputbox form-control" id="middleName" [(ngModel)]="userData.middleName" type="text"
                  name="middleName" />
              </div>

              <div class="form-group">
                <label for="email">Email</label>
                <input class="inputbox form-control" [(ngModel)]="userData.email" id="email" type="text" name="email" />
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label for="phone">Phone no.</label>
                <input class="inputbox form-control" id="phone" [(ngModel)]="userData.phoneNo" type="text"
                  name="phone" />
              </div>

              <div class="form-group">
                <label for="bankName">Bank Name</label>
                <Select [(ngModel)]="userData.bankName" id="bankName" name="bankName"
                  (change)="onChange($event.target.value)" class="inputbox form-control">
                  <option disabled> Choose your bank </option>
                  <option *ngFor="let p of banks" [value]="p.name" [selected]="userData.bankName == p.name">{{p?.name}}
                  </option>
                </Select>

              </div>

              <div class="form-group">
                <div class="form-group">
                  <label for="acctNo">Account Number</label>
                  <input type="text" id="acctNo" [(ngModel)]="userData.acctNo" name="acctNo" />
                </div>
              </div>
            </div>
            <div class="mr-5" style="margin-left: 40%">
              <hr>
              <button [disabled]="isBusy" (click)="updateProfile()" class="btn btn-primary mr-1">
                {{ isBusy ? "Updating..." : "UPDATE" }}
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="updateProfile1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title text-center text-primary" id="exampleModalLabel" style="color: green;">Care Lines</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
<div class="row">
  <div class="col-md-6">
    <small class="name">Sarah Samuel:<br>
    <span class="number text-primary"><i class="fa fa-phone"></i> 0801-743-2876</span>
    </small><br><hr>
    <small class="name">Joe Alfred:<br>
    <span class="number text-primary"><i class="fa fa-phone"></i> 0805-387-2345</span>
    </small><br><hr>
    <small class="name">Olawale Ajayi:<br>
    <span class="number text-primary"><i class="fa fa-phone"></i> 0903-456-7895</span>
    </small>
  </div>
  <div class="col-md-6">
    <small class="name">Sarah Samuel:<br>
      <span class="number text-primary"><i class="fa fa-phone"></i> 0801-743-2876</span>
      </small><br><hr>
      <small class="name">Joe Alfred:<br>
      <span class="number text-primary"><i class="fa fa-phone"></i> 0805-387-2345</span>
      </small><br><hr>
      <small class="name">Olawale Ajayi:<br>
      <span class="number text-primary"><i class="fa fa-phone"></i> 0903-456-7895</span>
      </small>
  </div>
</div>
      </div>
    </div>
  </div>
</div>

<!-- end-modal -->

<div class="modal fade" id="feedback" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title text-center" id="exampleModalLabel" style="color: green;">Customer Feedback</h2>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #feedback="ngForm" >
          <div class="form-row">
            <div class="col-md-12">
              <div class="form-group">
                <strong for="feedbackType">Feedback Type</strong>
                <Select name="feedbackType" [(ngModel)]="feedbackData.feedbackType"  (change)="onChangeFeedback($event.target.value)" class="inputbox form-control">
                    <option selected disabled> Choose feedback type </option>
                    <option value="Comments"> Comments </option>
                    <option value="Bugs Reports"> Bug Reports </option>
                    <option value="Questions"> Questions </option>
                </Select>
              </div>

              <div class="form-group">
                <strong for="describe">Describe Feedback Type</strong>
                <textarea name="description" [(ngModel)]="feedbackData.description"  class="inputbox form-control" placeholder="Description here..."></textarea>
              </div>

            </div>
            <div class="mr-5" style="margin-left: 30%">
              <hr>
              <button [disabled]="submitted" (click)="submitFeedback()" class="btn btn-primary mr-1">
                {{ submitted ? "Submitting..." : "Submit Feedback" }}
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
